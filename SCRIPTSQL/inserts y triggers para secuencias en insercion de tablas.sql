/*CREATED AND EDITED BY WALTER RIVERA*/

/*    REGLA GENERAL*/

/*PARA  EL NOMBRE DE LAS SECUENCIAS
VAMOS A COLOCAR SEQ_TBL_NOMBRE_TABLA*/

/*PARA EL NOMBRE DE TRIGGERS
TRIG_(BF,AF,INST)_NOMBRE_TABLA*/

/***********************************************************************************************/

/*tabla configuracion*/
/*creando la secuencia correspondiente*/
CREATE SEQUENCE SEQ_TBL_TBLCONFIG
START WITH 1
INCREMENT BY 1;
COMMIT;


CREATE OR REPLACE TRIGGER BI_TBL_TBLCONFIG
BEFORE INSERT ON TABLA_CONFIGURACION
FOR EACH ROW
BEGIN
SELECT SEQ_TBL_TBLCONFIG.NEXTVAL INTO :NEW.ID_TABLA FROM DUAL;
END BI_TBL_TBLCONFIG;


/*INSERCIÓN DE DATOS*/
INSERT INTO TABLA_CONFIGURACION(NOMBRE) VALUES('TIPO_OPERACION_EMPRESA');
INSERT INTO TABLA_CONFIGURACION(NOMBRE) VALUES('CAMPO_BITACORA_EMPRESA');
INSERT INTO TABLA_CONFIGURACION(NOMBRE) VALUES('ESTATUS_EMPRESA');
INSERT INTO TABLA_CONFIGURACION(NOMBRE) VALUES('CAMPO_BITACORA_USUARIO');
INSERT INTO TABLA_CONFIGURACION(NOMBRE) VALUES('TIPO_OPERACION_USUARIO');
INSERT INTO TABLA_CONFIGURACION(NOMBRE) VALUES('PAIS');
INSERT INTO TABLA_CONFIGURACION(NOMBRE) VALUES('TIPO_TRR_BITACORA_LIBRETA');
INSERT INTO TABLA_CONFIGURACION(NOMBRE) VALUES('ESTATUS_USUARIO');
INSERT INTO TABLA_CONFIGURACION(NOMBRE) VALUES('TIPO_GENERO');
INSERT INTO TABLA_CONFIGURACION(NOMBRE) VALUES('MODULO');
INSERT INTO TABLA_CONFIGURACION(NOMBRE) VALUES('ESTATUS_LIBRETA');
INSERT INTO TABLA_CONFIGURACION(NOMBRE) VALUES('TP_TRANSACC_BITACORA_CLIENTE');
INSERT INTO TABLA_CONFIGURACION(NOMBRE) VALUES('CAMPO_BITACORA_CLIENTE');
INSERT INTO TABLA_CONFIGURACION(NOMBRE) VALUES('TIPO_TRANSACCION_BOVEDA');
INSERT INTO TABLA_CONFIGURACION(NOMBRE) VALUES('ESTATUS_CHEQUERA');
INSERT INTO TABLA_CONFIGURACION(NOMBRE) VALUES('ESTATUS_CUENTA');
INSERT INTO TABLA_CONFIGURACION(NOMBRE) VALUES('TIPO_CUENTA');
INSERT INTO TABLA_CONFIGURACION(NOMBRE) VALUES('TIPO_BOLETA');
INSERT INTO TABLA_CONFIGURACION(NOMBRE) VALUES('ESTATUS_BOLETA');
INSERT INTO TABLA_CONFIGURACION(NOMBRE) VALUES('ESTATUS_CHEQUE');
INSERT INTO TABLA_CONFIGURACION(NOMBRE) VALUES('TIPO_TRANSACCION');
INSERT INTO TABLA_CONFIGURACION(NOMBRE) VALUES('ESTATUS_AGENCIA');
INSERT INTO TABLA_CONFIGURACION(NOMBRE) VALUES('ESTATUS_CAJA');
INSERT INTO TABLA_CONFIGURACION(NOMBRE) VALUES('TIPO_TRANSAC_BITACORA_CHEQ');
INSERT INTO TABLA_CONFIGURACION(NOMBRE) VALUES('TIPO_TRANSACCION_CAJA');
INSERT INTO TABLA_CONFIGURACION(NOMBRE) VALUES('ESTATUS_BOVEDA');
INSERT INTO TABLA_CONFIGURACION(NOMBRE) VALUES('ESTADO_TRANSACCION_GEN');
INSERT INTO TABLA_CONFIGURACION(NOMBRE) VALUES('TIPO_USUARIO');
INSERT INTO TABLA_CONFIGURACION(NOMBRE) VALUES('DEPARTAMENTO');
INSERT INTO TABLA_CONFIGURACION(NOMBRE) VALUES('MUNICIPIO');

/***********************************************************************************************/

/***********************************************************************************************/
/*TABLE CAMPO_BITACORA_CONFIGURACION*/
/*creando la secuencia correspondiente*/
CREATE SEQUENCE SEQ_TBL_CMPBIT_CONF
START WITH 1
INCREMENT BY 1;

/*TRIGGER PARA INSERTAR EN LA TABLA LOS CAMPOS*/
CREATE OR REPLACE TRIGGER BI_CAMPO_BIT_OPR
BEFORE INSERT ON CAMPO_BITACORA_CONFIGURACION
FOR EACH ROW
BEGIN
SELECT SEQ_TBL_CMPBIT_CONF.NEXTVAL INTO :NEW.ID_CAMPO_AFECTADO FROM DUAL;
END;

/*INSERCIÓN DE DATOS*/
INSERT INTO CAMPO_BITACORA_CONFIGURACION (NOMBRE_CAMPO,ID_TABLA) VALUES('TP_OPERACION_EMPRESA',1);
INSERT INTO CAMPO_BITACORA_CONFIGURACION (NOMBRE_CAMPO,ID_TABLA) VALUES('DESCRIPCION_EMPRESA',1);
INSERT INTO CAMPO_BITACORA_CONFIGURACION (NOMBRE_CAMPO,ID_TABLA) VALUES('ID_ESTATUS_EMPRESA',3);
INSERT INTO CAMPO_BITACORA_CONFIGURACION (NOMBRE_CAMPO,ID_TABLA) VALUES('NOMBRE_ESTATUS',3);
INSERT INTO CAMPO_BITACORA_CONFIGURACION (NOMBRE_CAMPO,ID_TABLA) VALUES('TIPO_OPERACION_USUARIO',5);
INSERT INTO CAMPO_BITACORA_CONFIGURACION (NOMBRE_CAMPO,ID_TABLA) VALUES('DESCRIPCION_USUARIO',5);
INSERT INTO CAMPO_BITACORA_CONFIGURACION (NOMBRE_CAMPO,ID_TABLA) VALUES('ID_PAIS',6);
INSERT INTO CAMPO_BITACORA_CONFIGURACION (NOMBRE_CAMPO,ID_TABLA) VALUES('NOMBRE_PAIS',6);
INSERT INTO CAMPO_BITACORA_CONFIGURACION (NOMBRE_CAMPO,ID_TABLA) VALUES('ID_ESTATUS_USUARIO',8);
INSERT INTO CAMPO_BITACORA_CONFIGURACION (NOMBRE_CAMPO,ID_TABLA) VALUES('NOMBRE_TP_ESTATUS_USUARIO',8);
INSERT INTO CAMPO_BITACORA_CONFIGURACION (NOMBRE_CAMPO,ID_TABLA) VALUES('ID_TIPO_GENERO',9);
INSERT INTO CAMPO_BITACORA_CONFIGURACION (NOMBRE_CAMPO,ID_TABLA) VALUES('DESCRIPCION_GENERO',9);
INSERT INTO CAMPO_BITACORA_CONFIGURACION (NOMBRE_CAMPO,ID_TABLA) VALUES('ID_MODULO',10);
INSERT INTO CAMPO_BITACORA_CONFIGURACION (NOMBRE_CAMPO,ID_TABLA) VALUES('DESCRIPCION_MODULO',10);
INSERT INTO CAMPO_BITACORA_CONFIGURACION (NOMBRE_CAMPO,ID_TABLA) VALUES('ID_ESTATUS_LIBRETA',11);
INSERT INTO CAMPO_BITACORA_CONFIGURACION (NOMBRE_CAMPO,ID_TABLA) VALUES('NOMBRE_ESTATUS_LIBRETA',11);
INSERT INTO CAMPO_BITACORA_CONFIGURACION (NOMBRE_CAMPO,ID_TABLA) VALUES('TIPO_TRANSACCION_BOVEDA',14);
INSERT INTO CAMPO_BITACORA_CONFIGURACION (NOMBRE_CAMPO,ID_TABLA) VALUES('DESCRIPCION_TP_TR_BOVEDA',14);
INSERT INTO CAMPO_BITACORA_CONFIGURACION (NOMBRE_CAMPO,ID_TABLA) VALUES('ID_ESTATUS_CHEQUERA',15);
INSERT INTO CAMPO_BITACORA_CONFIGURACION (NOMBRE_CAMPO,ID_TABLA) VALUES('NOMBRE_ESTATUS_CHEQUERA',15);
INSERT INTO CAMPO_BITACORA_CONFIGURACION (NOMBRE_CAMPO,ID_TABLA) VALUES('ID_ESTATUS_CUENTA',16);
INSERT INTO CAMPO_BITACORA_CONFIGURACION (NOMBRE_CAMPO,ID_TABLA) VALUES('NOMBRE_CUENTA',16);
INSERT INTO CAMPO_BITACORA_CONFIGURACION (NOMBRE_CAMPO,ID_TABLA) VALUES('ID_TIPO_CUENTA',17);
INSERT INTO CAMPO_BITACORA_CONFIGURACION (NOMBRE_CAMPO,ID_TABLA) VALUES('NOMRE_CUENTA',17);
INSERT INTO CAMPO_BITACORA_CONFIGURACION (NOMBRE_CAMPO,ID_TABLA) VALUES('ID_TIPO_BOLETA',18);
INSERT INTO CAMPO_BITACORA_CONFIGURACION (NOMBRE_CAMPO,ID_TABLA) VALUES('NOMBRE_BOLETA',18);
INSERT INTO CAMPO_BITACORA_CONFIGURACION (NOMBRE_CAMPO,ID_TABLA) VALUES('ID_ESTATUS_BOLETA',19);
INSERT INTO CAMPO_BITACORA_CONFIGURACION (NOMBRE_CAMPO,ID_TABLA) VALUES('NOMBRE_ESTATUS_BOLETA',19);
INSERT INTO CAMPO_BITACORA_CONFIGURACION (NOMBRE_CAMPO,ID_TABLA) VALUES('ID_ESTATUS_CHEQUE',20);
INSERT INTO CAMPO_BITACORA_CONFIGURACION (NOMBRE_CAMPO,ID_TABLA) VALUES('NOMBRE_ESTATUS_CHEQUE',20);
INSERT INTO CAMPO_BITACORA_CONFIGURACION (NOMBRE_CAMPO,ID_TABLA) VALUES('ID_TIPO_TRANSACCION_BITGENERAL',21);
INSERT INTO CAMPO_BITACORA_CONFIGURACION (NOMBRE_CAMPO,ID_TABLA) VALUES('NOMBRE_TP_TRBITGENERAL',21);
INSERT INTO CAMPO_BITACORA_CONFIGURACION (NOMBRE_CAMPO,ID_TABLA) VALUES('ID_ESTATUS_AGENCIA',22);
INSERT INTO CAMPO_BITACORA_CONFIGURACION (NOMBRE_CAMPO,ID_TABLA) VALUES('DESCRIPCION_ESTATUS_AGENCIA',22);
INSERT INTO CAMPO_BITACORA_CONFIGURACION (NOMBRE_CAMPO,ID_TABLA) VALUES('ID_ESTATUS_CAJA',23);
INSERT INTO CAMPO_BITACORA_CONFIGURACION (NOMBRE_CAMPO,ID_TABLA) VALUES('NOMBRE_ESTATUS_CAJA',23);
INSERT INTO CAMPO_BITACORA_CONFIGURACION (NOMBRE_CAMPO,ID_TABLA) VALUES('ID_TPTRANSACCION_BTCHEQUE',24);
INSERT INTO CAMPO_BITACORA_CONFIGURACION (NOMBRE_CAMPO,ID_TABLA) VALUES('DESCRIPCION_BITCHEQUE',24);
INSERT INTO CAMPO_BITACORA_CONFIGURACION (NOMBRE_CAMPO,ID_TABLA) VALUES('TP_TRANSACCION_CAJA',25);
INSERT INTO CAMPO_BITACORA_CONFIGURACION (NOMBRE_CAMPO,ID_TABLA) VALUES('DESCRIPCION_TP_TRANSACCACAJA',25);
INSERT INTO CAMPO_BITACORA_CONFIGURACION (NOMBRE_CAMPO,ID_TABLA) VALUES('ID_ESTATUS_BOVEDA',26);
INSERT INTO CAMPO_BITACORA_CONFIGURACION (NOMBRE_CAMPO,ID_TABLA) VALUES('NOMBRE_ESTATUS_BOVEDA',26);
INSERT INTO CAMPO_BITACORA_CONFIGURACION (NOMBRE_CAMPO,ID_TABLA) VALUES('ID_ESATADO_TRANSACCGEN',27);
INSERT INTO CAMPO_BITACORA_CONFIGURACION (NOMBRE_CAMPO,ID_TABLA) VALUES('DESCRIPCION_ESTGENERAL',27);
INSERT INTO CAMPO_BITACORA_CONFIGURACION (NOMBRE_CAMPO,ID_TABLA) VALUES('ID_TIPO_USUARIO',28);
INSERT INTO CAMPO_BITACORA_CONFIGURACION (NOMBRE_CAMPO,ID_TABLA) VALUES('DESCRIPCION_TP_USUARIO',28);
INSERT INTO CAMPO_BITACORA_CONFIGURACION (NOMBRE_CAMPO,ID_TABLA) VALUES('ID_MODULO_TP_USUARIO',28);
INSERT INTO CAMPO_BITACORA_CONFIGURACION (NOMBRE_CAMPO,ID_TABLA) VALUES('ID_DEPARTAMENTO',29);
INSERT INTO CAMPO_BITACORA_CONFIGURACION (NOMBRE_CAMPO,ID_TABLA) VALUES('NOMBRE_DEPARTAMENTO',29);
INSERT INTO CAMPO_BITACORA_CONFIGURACION (NOMBRE_CAMPO,ID_TABLA) VALUES('ID_PAIS_DEPARTAMENTO',29);
INSERT INTO CAMPO_BITACORA_CONFIGURACION (NOMBRE_CAMPO,ID_TABLA) VALUES('ID_MUNICIPIO',30);
INSERT INTO CAMPO_BITACORA_CONFIGURACION (NOMBRE_CAMPO,ID_TABLA) VALUES('NOMBRE_MUNICIPIO',30);

/***********************************************************************************************/

/*TABLA TIPO_OPERACION_CONFIGURACION*/

CREATE SEQUENCE TBL_TP_OPR_CONFIG
START WITH 1
INCREMENT BY 1;

/*CREAMOS EL TRIGGER PARA QUE SEA AUTOINCREMENTAL*/

CREATE OR REPLACE TRIGGER BI_TIPO_OPR_CONFIG
BEFORE INSERT ON TIPO_OPERACION_CONFIGURACION
FOR EACH ROW
BEGIN
SELECT TBL_TP_OPR_CONFIG.NEXTVAL INTO :NEW.TIPO_OPERACION FROM DUAL;
END;
